{% extends 'admin-base.htm.twig' %}
{% block title %}Products - Iflora eMarketplace{% endblock %}
{% block stylesheets %}
    {{ parent() }}

    <link href="{{ asset('majorca/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ asset('majorca/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ asset('majorca/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ asset('majorca/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ asset('majorca/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css') }}" rel="stylesheet">
{% endblock %}
{% block body %}
    <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>Products <small>Active Products for All Users</small></h2>
                    <ul class="nav navbar-right panel_toolbox">

                      <li><a style="color: white" class="btn btn-xs btn-success" href="{{ path('admin_product_new') }}"><span style="color: white" class="fa fa-plus-circle"></span> New Product</a></li>

                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                      <p class="text-muted font-13 m-b-30">
                          For easier Management, only Active products are displayed by default
                      </p>
                      <table id="datatable" class="table table-striped table-bordered">
        <thead>
        <tr>
            <td>&nbsp;</td>
            <th>Name</th>
            <th>slug</th>
            <th>Price</th>
            <th>Category</th>
            <th>Sold By</th>
            <th>is Active?</th>
            <th>is Authorized</th>
            <th>&nbsp;</th>
        </tr>
        </thead>
        <tbody>
        {% for product in products %}
        <tr>
            <td><img height="100" src="{{ asset('images/products/') }}{{ product.imageName }}"/></td>
            <td>{{ product.title }}</td>
            <td>{{ product.slug }}</td>
            <td>{{ product.currency }} {{ product.price }}</td>
            <td>{{ product.category.title }}</td>
            <td><a href="">{{ product.user.firstName }} {{ product.user.lastName }}</a></td>
            <td>{% if(product.isActive == 1) %}
                true
            {% else %}
                false
                {% endif %}
                </td>
            <td>{% if(product.isAuthorized == 1) %}
                    true
                {% else %}
                    false
                {% endif %}</td>
            <td><a class="btn btn-xs btn-success" href="{{ path('admin_product_edit',{'id':product.id}) }}"><span class="fa fa-pencil"></span> </a></td>
        </tr>
        {% endfor %}
        </tbody>

    </table>
    </div>
    </div>
    </div>
    </div>

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('majorca/vendors/datatables.net/js/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-buttons/js/dataTables.buttons.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-buttons/js/buttons.flash.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-buttons/js/buttons.html5.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-buttons/js/buttons.print.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-responsive/js/dataTables.responsive.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js') }}"></script>
    <script src="{{ asset('majorca/vendors/datatables.net-scroller/js/dataTables.scroller.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/jszip/dist/jszip.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/pdfmake/build/pdfmake.min.js') }}"></script>
    <script src="{{ asset('majorca/vendors/pdfmake/build/vfs_fonts.js') }}"></script>
{% endblock %}